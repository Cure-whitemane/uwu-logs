{% extends "layout_report.html" %}

{% block the_main %}
<main id="report-main">
  <section id="report-main-tables">
    <section>
      <table id="damage">
        <caption>Damage done</caption>
        <tr>
          <th>Name</th>
          <th colspan="2">Total</th>
          <th>DPS</th>
        </tr>
        {% for player_name, source_total, dps, p in DAMAGE %}
        <tr>
          {% if player_name in SPECS %}
          <td class="player-cell" title="{{ SPECS[player_name][0] }}">
            <img src="{{ ICON_CDN_LINK }}/{{ SPECS[player_name][1] }}.jpg">
            <a class="{{ CLASS_DATA[player_name] }}" href="/reports/{{ REPORT_ID }}/player/{{ player_name }}/{{ QUERY }}">{{ player_name }}</a>
          </td>
          {% else %}
          <td class="player-cell" title="Unknown">
            <img src="{{ ICON_CDN_LINK }}/inv_misc_questionmark.jpg">
            <a class="unknown" href="/reports/{{ REPORT_ID }}/player/{{ player_name }}/{{ QUERY }}">{{ player_name }}</a>
          </td>
          {% endif %}
          <td class="total-cell">{{ source_total }}</td>
          <td class="rectangle-cell"><div style="width: {{ p }}%;"></div></td>
          <td class="dps-cell">{{ dps }}</td>
        </tr>
        {% endfor %}
      </table>
    </section>
    <section>
      <table id="heal">
        <caption>Healing done</caption>
        <tr>
          <th>Name</th>
          <th colspan="2">Total</th>
          <th>HPS</th>
        </tr>
        {% for player_name, source_total, hps, p in HEAL %}
        <tr>
          {% if player_name in SPECS %}
          <td class="player-cell" title="{{ SPECS[player_name][0] }}">
            <img src="{{ ICON_CDN_LINK }}/{{ SPECS[player_name][1] }}.jpg">
            <a class="{{ CLASS_DATA[player_name] }}" href="/reports/{{ REPORT_ID }}/player/{{ player_name }}/{{ QUERY }}">{{ player_name }}</a>
          </td>
          {% else %}
          <td class="player-cell" title="Unknown">
            <img src="{{ ICON_CDN_LINK }}/inv_misc_questionmark.jpg">
            <a class="unknown" href="/reports/{{ REPORT_ID }}/player/{{ player_name }}/{{ QUERY }}">{{ player_name }}</a>
          </td>
          {% endif %}
          <td class="total-cell">{{ source_total }}</td>
          <td class="rectangle-cell">
            <div style="width: {{ p }}%;"></div>
          </td>
          <td class="dps-cell">{{ hps }}</td>
        </tr>
        {% endfor %}
      </table>
    </section>
  </section>
  <div class="min-max-slider" data-legendnum="2">
    <div class="min-max-slider-inputs">
      <input class="min" name="min" type="range" step="1" />
      <input class="max" name="max" type="range" step="1" />
    </div>
    <div class="min-max-slider-values">
      <span class="min-value"></span>
      <span> - </span>
      <span class="max-value"></span>
      <span class="total-value"></span>
    </div>
    <button class="min-max-slider-submit" type="submit">Slice</button>
  </div>
  <section>
    <p>First Hit: {{ FIRST_HIT }}</p>
    <p>Last Hit: {{ LAST_HIT }}</p>
  </section>
  <script defer src="/static/range.js"></script>
</main>

{% endblock the_main %}
